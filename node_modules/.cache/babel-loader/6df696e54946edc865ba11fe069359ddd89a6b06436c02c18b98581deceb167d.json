{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Joystick = void 0;\nvar React = require(\"react\");\nvar shape_enum_1 = require(\"./enums/shape.enum\");\nvar shape_factory_1 = require(\"./shapes/shape.factory\");\nvar shape_bounds_factory_1 = require(\"./shapes/shape.bounds.factory\");\nvar InteractionEvents;\n(function (InteractionEvents) {\n  InteractionEvents[\"PointerDown\"] = \"pointerdown\";\n  InteractionEvents[\"PointerMove\"] = \"pointermove\";\n  InteractionEvents[\"PointerUp\"] = \"pointerup\";\n})(InteractionEvents || (InteractionEvents = {}));\n/**\n * Radians identifying the direction of the joystick\n */\nvar RadianQuadrantBinding;\n(function (RadianQuadrantBinding) {\n  RadianQuadrantBinding[RadianQuadrantBinding[\"TopRight\"] = 2.35619449] = \"TopRight\";\n  RadianQuadrantBinding[RadianQuadrantBinding[\"TopLeft\"] = -2.35619449] = \"TopLeft\";\n  RadianQuadrantBinding[RadianQuadrantBinding[\"BottomRight\"] = 0.785398163] = \"BottomRight\";\n  RadianQuadrantBinding[RadianQuadrantBinding[\"BottomLeft\"] = -0.785398163] = \"BottomLeft\";\n})(RadianQuadrantBinding || (RadianQuadrantBinding = {}));\nvar Joystick = /** @class */function (_super) {\n  __extends(Joystick, _super);\n  function Joystick(props) {\n    var _this = _super.call(this, props) || this;\n    _this._stickRef = React.createRef();\n    _this._baseRef = React.createRef();\n    _this.frameId = null;\n    _this._pointerId = null;\n    _this._mounted = false;\n    _this.state = {\n      dragging: false\n    };\n    _this._throttleMoveCallback = function () {\n      var lastCall = 0;\n      return function (event) {\n        var now = new Date().getTime();\n        var throttleAmount = _this.props.throttle || 0;\n        if (now - lastCall < throttleAmount) {\n          return;\n        }\n        lastCall = now;\n        if (_this.props.move) {\n          return _this.props.move(event);\n        }\n      };\n    }();\n    return _this;\n  }\n  Joystick.prototype.componentWillUnmount = function () {\n    var _this = this;\n    this._mounted = false;\n    if (this.props.followCursor) {\n      window.removeEventListener(InteractionEvents.PointerMove, function (event) {\n        return _this._pointerMove(event);\n      });\n    }\n    if (this.frameId !== null) {\n      window.cancelAnimationFrame(this.frameId);\n    }\n  };\n  Joystick.prototype.componentDidMount = function () {\n    var _this = this;\n    this._mounted = true;\n    if (this.props.followCursor) {\n      //@ts-ignore\n      this._parentRect = this._baseRef.current.getBoundingClientRect();\n      this.setState({\n        dragging: true\n      });\n      window.addEventListener(InteractionEvents.PointerMove, function (event) {\n        return _this._pointerMove(event);\n      });\n      if (this.props.start) {\n        this.props.start({\n          type: \"start\",\n          x: null,\n          y: null,\n          distance: null,\n          direction: null\n        });\n      }\n    }\n  };\n  /**\n   * Update position of joystick - set state and trigger DOM manipulation\n   * @param coordinates\n   * @private\n   */\n  Joystick.prototype._updatePos = function (coordinates) {\n    var _this = this;\n    this.frameId = window.requestAnimationFrame(function () {\n      if (_this._mounted) {\n        _this.setState({\n          coordinates: coordinates\n        });\n      }\n    });\n    if (typeof this.props.minDistance === 'number') {\n      if (coordinates.distance < this.props.minDistance) {\n        return;\n      }\n    }\n    this._throttleMoveCallback({\n      type: \"move\",\n      x: coordinates.relativeX * 2 / this._baseSize,\n      y: -(coordinates.relativeY * 2 / this._baseSize),\n      direction: coordinates.direction,\n      distance: coordinates.distance\n    });\n  };\n  /**\n   * Handle pointerdown event\n   * @param e PointerEvent\n   * @private\n   */\n  Joystick.prototype._pointerDown = function (e) {\n    var _this = this;\n    if (this.props.disabled || this.props.followCursor) {\n      return;\n    }\n    //@ts-ignore\n    this._parentRect = this._baseRef.current.getBoundingClientRect();\n    this.setState({\n      dragging: true\n    });\n    window.addEventListener(InteractionEvents.PointerUp, function (event) {\n      return _this._pointerUp(event);\n    });\n    window.addEventListener(InteractionEvents.PointerMove, function (event) {\n      return _this._pointerMove(event);\n    });\n    this._pointerId = e.pointerId;\n    //@ts-ignore\n    this._stickRef.current.setPointerCapture(e.pointerId);\n    if (this.props.start) {\n      this.props.start({\n        type: \"start\",\n        x: null,\n        y: null,\n        distance: null,\n        direction: null\n      });\n    }\n  };\n  /**\n   * Use ArcTan2 (4 Quadrant inverse tangent) to identify the direction the joystick is pointing\n   * https://docs.oracle.com/cd/B12037_01/olap.101/b10339/x_arcsin003.htm\n   * @param atan2: number\n   * @private\n   */\n  Joystick.prototype._getDirection = function (atan2) {\n    if (atan2 > RadianQuadrantBinding.TopRight || atan2 < RadianQuadrantBinding.TopLeft) {\n      return \"FORWARD\";\n    } else if (atan2 < RadianQuadrantBinding.TopRight && atan2 > RadianQuadrantBinding.BottomRight) {\n      return \"RIGHT\";\n    } else if (atan2 < RadianQuadrantBinding.BottomLeft) {\n      return \"LEFT\";\n    }\n    return \"BACKWARD\";\n  };\n  /**\n   * Hypotenuse distance calculation\n   * @param x: number\n   * @param y: number\n   * @private\n   */\n  Joystick.prototype._distance = function (x, y) {\n    return Math.hypot(x, y);\n  };\n  Joystick.prototype._distanceToPercentile = function (distance) {\n    var percentageBaseSize = distance / (this._baseSize / 2) * 100;\n    if (percentageBaseSize > 100) {\n      return 100;\n    }\n    return percentageBaseSize;\n  };\n  /**\n   * Calculate X/Y and ArcTan within the bounds of the joystick\n   * @param event\n   * @private\n   */\n  Joystick.prototype._pointerMove = function (event) {\n    event.preventDefault();\n    if (this.state.dragging) {\n      if (!this.props.followCursor && event.pointerId !== this._pointerId) return;\n      var absoluteX = event.clientX;\n      var absoluteY = event.clientY;\n      var relativeX = absoluteX - this._parentRect.left - this._radius;\n      var relativeY = absoluteY - this._parentRect.top - this._radius;\n      var dist = this._distance(relativeX, relativeY);\n      // @ts-ignore\n      var bounded = (0, shape_bounds_factory_1.shapeBoundsFactory)(\n      //@ts-ignore\n      this.props.controlPlaneShape || this.props.baseShape, absoluteX, absoluteY, relativeX, relativeY, dist, this._radius, this._baseSize, this._parentRect);\n      relativeX = bounded.relativeX;\n      relativeY = bounded.relativeY;\n      var atan2 = Math.atan2(relativeX, relativeY);\n      this._updatePos({\n        relativeX: relativeX,\n        relativeY: relativeY,\n        distance: this._distanceToPercentile(dist),\n        direction: this._getDirection(atan2),\n        axisX: absoluteX - this._parentRect.left,\n        axisY: absoluteY - this._parentRect.top\n      });\n    }\n  };\n  /**\n   * Handle pointer up and de-register listen events\n   * @private\n   */\n  Joystick.prototype._pointerUp = function (event) {\n    var _this = this;\n    if (event.pointerId !== this._pointerId) return;\n    var stateUpdate = {\n      dragging: false\n    };\n    if (!this.props.sticky) {\n      stateUpdate.coordinates = undefined;\n    }\n    this.frameId = window.requestAnimationFrame(function () {\n      if (_this._mounted) {\n        _this.setState(stateUpdate);\n      }\n    });\n    window.removeEventListener(InteractionEvents.PointerUp, function (event) {\n      return _this._pointerUp(event);\n    });\n    window.removeEventListener(InteractionEvents.PointerMove, function (event) {\n      return _this._pointerMove(event);\n    });\n    this._pointerId = null;\n    if (this.props.stop) {\n      this.props.stop({\n        type: \"stop\",\n        // @ts-ignore\n        x: this.props.sticky ? this.state.coordinates.relativeX * 2 / this._baseSize : null,\n        // @ts-ignore\n        y: this.props.sticky ? this.state.coordinates.relativeY * 2 / this._baseSize : null,\n        // @ts-ignore\n        direction: this.props.sticky ? this.state.coordinates.direction : null,\n        // @ts-ignore\n        distance: this.props.sticky ? this.state.coordinates.distance : null\n      });\n    }\n  };\n  /**\n   * Get the shape stylings for the base\n   * @private\n   */\n  Joystick.prototype.getBaseShapeStyle = function () {\n    var shape = this.props.baseShape || shape_enum_1.JoystickShape.Circle;\n    return (0, shape_factory_1.shapeFactory)(shape, this._baseSize);\n  };\n  /**\n   * Get the shape stylings for the stick\n   * @private\n   */\n  Joystick.prototype.getStickShapeStyle = function () {\n    var shape = this.props.stickShape || shape_enum_1.JoystickShape.Circle;\n    return (0, shape_factory_1.shapeFactory)(shape, this._baseSize);\n  };\n  /**\n   * Calculate base styles for pad\n   * @private\n   */\n  Joystick.prototype._getBaseStyle = function () {\n    var baseColor = this.props.baseColor !== undefined ? this.props.baseColor : \"#000033\";\n    var baseSizeString = \"\".concat(this._baseSize, \"px\");\n    var padStyle = __assign(__assign({}, this.getBaseShapeStyle()), {\n      height: baseSizeString,\n      width: baseSizeString,\n      background: baseColor,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    });\n    if (this.props.baseImage) {\n      padStyle.background = \"url(\".concat(this.props.baseImage, \")\");\n      padStyle.backgroundSize = '100%';\n    }\n    return padStyle;\n  };\n  /**\n   * Calculate  base styles for joystick and translate\n   * @private\n   */\n  Joystick.prototype._getStickStyle = function () {\n    var stickColor = this.props.stickColor !== undefined ? this.props.stickColor : \"#3D59AB\";\n    var stickSize = this._stickSize ? \"\".concat(this._stickSize, \"px\") : \"\".concat(this._baseSize / 1.5, \"px\");\n    var stickStyle = __assign(__assign({}, this.getStickShapeStyle()), {\n      background: stickColor,\n      cursor: \"move\",\n      height: stickSize,\n      width: stickSize,\n      border: 'none',\n      flexShrink: 0,\n      touchAction: 'none'\n    });\n    if (this.props.stickImage) {\n      stickStyle.background = \"url(\".concat(this.props.stickImage, \")\");\n      stickStyle.backgroundSize = '100%';\n    }\n    if (this.props.pos) {\n      stickStyle = Object.assign({}, stickStyle, {\n        position: 'absolute',\n        transform: \"translate3d(\".concat(this.props.pos.x * this._baseSize / 2, \"px, \").concat(-(this.props.pos.y * this._baseSize) / 2, \"px, 0)\")\n      });\n    }\n    if (this.state.coordinates !== undefined) {\n      stickStyle = Object.assign({}, stickStyle, {\n        position: 'absolute',\n        transform: \"translate3d(\".concat(this.state.coordinates.relativeX, \"px, \").concat(this.state.coordinates.relativeY, \"px, 0)\")\n      });\n    }\n    return stickStyle;\n  };\n  Joystick.prototype.render = function () {\n    var _this = this;\n    this._baseSize = this.props.size || 100;\n    this._stickSize = this.props.stickSize;\n    this._radius = this._baseSize / 2;\n    var baseStyle = this._getBaseStyle();\n    var stickStyle = this._getStickStyle();\n    //@ts-ignore\n    return React.createElement(\"div\", {\n      \"data-testid\": \"joystick-base\",\n      className: this.props.disabled ? 'joystick-base-disabled' : '',\n      ref: this._baseRef,\n      style: baseStyle\n    }, React.createElement(\"button\", {\n      ref: this._stickRef,\n      disabled: this.props.disabled,\n      onPointerDown: function (event) {\n        return _this._pointerDown(event);\n      },\n      className: this.props.disabled ? 'joystick-disabled' : '',\n      style: stickStyle\n    }));\n  };\n  return Joystick;\n}(React.Component);\nexports.Joystick = Joystick;","map":{"version":3,"names":["React","require","shape_enum_1","shape_factory_1","shape_bounds_factory_1","InteractionEvents","RadianQuadrantBinding","Joystick","_super","__extends","props","_this","call","_stickRef","createRef","_baseRef","frameId","_pointerId","_mounted","state","dragging","_throttleMoveCallback","lastCall","event","now","Date","getTime","throttleAmount","throttle","move","prototype","componentWillUnmount","followCursor","window","removeEventListener","PointerMove","_pointerMove","cancelAnimationFrame","componentDidMount","_parentRect","current","getBoundingClientRect","setState","addEventListener","start","type","x","y","distance","direction","_updatePos","coordinates","requestAnimationFrame","minDistance","relativeX","_baseSize","relativeY","_pointerDown","e","disabled","PointerUp","_pointerUp","pointerId","setPointerCapture","_getDirection","atan2","TopRight","TopLeft","BottomRight","BottomLeft","_distance","Math","hypot","_distanceToPercentile","percentageBaseSize","preventDefault","absoluteX","clientX","absoluteY","clientY","left","_radius","top","dist","bounded","shapeBoundsFactory","controlPlaneShape","baseShape","axisX","axisY","stateUpdate","sticky","undefined","stop","getBaseShapeStyle","shape","JoystickShape","Circle","shapeFactory","getStickShapeStyle","stickShape","_getBaseStyle","baseColor","baseSizeString","concat","padStyle","__assign","height","width","background","display","justifyContent","alignItems","baseImage","backgroundSize","_getStickStyle","stickColor","stickSize","_stickSize","stickStyle","cursor","border","flexShrink","touchAction","stickImage","pos","Object","assign","position","transform","render","size","baseStyle","createElement","className","ref","style","onPointerDown","Component","exports"],"sources":["/home/miguel/Escritorio/Universidad/RAS/rosBridgePepper/new-pepper-bridge/node_modules/react-joystick-component/src/Joystick.tsx"],"sourcesContent":["import * as React from 'react';\nimport {JoystickShape} from \"./enums/shape.enum\";\nimport {shapeFactory} from \"./shapes/shape.factory\";\nimport {shapeBoundsFactory} from \"./shapes/shape.bounds.factory\";\n\nexport interface IJoystickProps {\n    size?: number;\n    stickSize?: number;\n    baseColor?: string;\n    stickColor?: string;\n    throttle?: number;\n    disabled?: boolean;\n    sticky?: boolean;\n    move?: (event: IJoystickUpdateEvent) => void;\n    stop?: (event: IJoystickUpdateEvent) => void;\n    start?: (event: IJoystickUpdateEvent) => void;\n    stickImage?: string;\n    baseImage?: string;\n    followCursor?: boolean;\n    baseShape?: JoystickShape;\n    stickShape?: JoystickShape;\n    controlPlaneShape?: JoystickShape;\n    minDistance?: number;\n    pos?: {x: number, y: number};\n}\n\nenum InteractionEvents {\n    PointerDown = \"pointerdown\",\n    PointerMove = \"pointermove\",\n    PointerUp = \"pointerup\"\n}\n\nexport interface IJoystickUpdateEvent {\n    type: \"move\" | \"stop\" | \"start\";\n    // TODO: these could just be optional, but this may be a breaking change\n    x: number | null;\n    y: number | null;\n    direction: JoystickDirection | null;\n    distance: number | null;\n}\n\nexport interface IJoystickState {\n    dragging: boolean;\n    coordinates?: IJoystickCoordinates;\n}\n\ntype JoystickDirection = \"FORWARD\" | \"RIGHT\" | \"LEFT\" | \"BACKWARD\";\n\nexport interface IJoystickCoordinates {\n    relativeX: number;\n    relativeY: number;\n    axisX: number;\n    axisY: number;\n    direction: JoystickDirection;\n    distance: number;\n}\n\n\n/**\n * Radians identifying the direction of the joystick\n */\nenum RadianQuadrantBinding {\n    TopRight = 2.35619449,\n    TopLeft = -2.35619449,\n    BottomRight = 0.785398163,\n    BottomLeft = -0.785398163\n}\n\nclass Joystick extends React.Component<IJoystickProps, IJoystickState> {\n    private readonly _stickRef: React.RefObject<HTMLButtonElement> = React.createRef();\n    private readonly _baseRef: React.RefObject<HTMLDivElement> = React.createRef();\n    private readonly _throttleMoveCallback: (data: IJoystickUpdateEvent) => void;\n    private _baseSize: number;\n    private _stickSize?: number;\n    private frameId: number | null = null;\n\n    private _radius: number;\n    private _parentRect: DOMRect;\n    private _pointerId: number|null = null\n    private _mounted = false;\n\n    constructor(props: IJoystickProps) {\n        super(props);\n        this.state = {\n            dragging: false\n        };\n        this._throttleMoveCallback = (() => {\n            let lastCall = 0;\n            return (event: IJoystickUpdateEvent) => {\n\n                const now = new Date().getTime();\n                const throttleAmount = this.props.throttle || 0;\n                if (now - lastCall < throttleAmount) {\n                    return;\n                }\n                lastCall = now;\n                if (this.props.move) {\n                    return this.props.move(event);\n                }\n            };\n        })();\n\n\n\n    }\n\n    componentWillUnmount() {\n        this._mounted = false;\n        if (this.props.followCursor) {\n            window.removeEventListener(InteractionEvents.PointerMove, event => this._pointerMove(event));\n        }\n        if (this.frameId !== null) {\n            window.cancelAnimationFrame(this.frameId);\n        }\n    }\n\n    componentDidMount() {\n        this._mounted = true;\n        if (this.props.followCursor) {\n            //@ts-ignore\n            this._parentRect = this._baseRef.current.getBoundingClientRect();\n\n            this.setState({\n                dragging: true\n            });\n\n            window.addEventListener(InteractionEvents.PointerMove, event => this._pointerMove(event));\n\n            if (this.props.start) {\n                this.props.start({\n                    type: \"start\",\n                    x: null,\n                    y: null,\n                    distance: null,\n                    direction: null\n                });\n            }\n\n        }\n    }\n\n    /**\n     * Update position of joystick - set state and trigger DOM manipulation\n     * @param coordinates\n     * @private\n     */\n    private _updatePos(coordinates: IJoystickCoordinates) {\n\n        this.frameId = window.requestAnimationFrame(() => {\n            if(this._mounted){\n                this.setState({\n                    coordinates,\n                });\n            }\n          });\n          \n        if(typeof this.props.minDistance ===  'number'){\n            if(coordinates.distance < this.props.minDistance){\n                return;\n            }\n        }\n        this._throttleMoveCallback({\n            type: \"move\",\n            x: ((coordinates.relativeX * 2) / this._baseSize),\n            y: -((coordinates.relativeY * 2) / this._baseSize),\n            direction: coordinates.direction,\n            distance: coordinates.distance\n        });\n\n    }\n\n    /**\n     * Handle pointerdown event\n     * @param e PointerEvent\n     * @private\n     */\n    private _pointerDown(e: PointerEvent) {\n        if (this.props.disabled || this.props.followCursor) {\n            return;\n        }\n        //@ts-ignore\n        this._parentRect = this._baseRef.current.getBoundingClientRect();\n\n        this.setState({\n            dragging: true\n        });\n\n        window.addEventListener(InteractionEvents.PointerUp, event => this._pointerUp(event));\n        window.addEventListener(InteractionEvents.PointerMove, event => this._pointerMove(event));\n        this._pointerId = e.pointerId\n        //@ts-ignore\n        this._stickRef.current.setPointerCapture(e.pointerId);\n\n        if (this.props.start) {\n            this.props.start({\n                type: \"start\",\n                x: null,\n                y: null,\n                distance: null,\n                direction: null\n            });\n        }\n\n    }\n\n    /**\n     * Use ArcTan2 (4 Quadrant inverse tangent) to identify the direction the joystick is pointing\n     * https://docs.oracle.com/cd/B12037_01/olap.101/b10339/x_arcsin003.htm\n     * @param atan2: number\n     * @private\n     */\n    private _getDirection(atan2: number): JoystickDirection {\n        if (atan2 > RadianQuadrantBinding.TopRight || atan2 < RadianQuadrantBinding.TopLeft) {\n            return \"FORWARD\";\n        } else if (atan2 < RadianQuadrantBinding.TopRight && atan2 > RadianQuadrantBinding.BottomRight) {\n            return \"RIGHT\"\n        } else if (atan2 < RadianQuadrantBinding.BottomLeft) {\n            return \"LEFT\";\n        }\n        return \"BACKWARD\";\n\n\n    }\n\n    /**\n     * Hypotenuse distance calculation\n     * @param x: number\n     * @param y: number\n     * @private\n     */\n    private _distance(x: number, y: number): number {\n        return Math.hypot(x, y);\n    }\n    private _distanceToPercentile(distance:number): number {\n        const percentageBaseSize = distance / (this._baseSize/2) * 100;\n        if(percentageBaseSize > 100){\n            return 100;\n        }\n        return percentageBaseSize;\n    }\n\n    /**\n     * Calculate X/Y and ArcTan within the bounds of the joystick\n     * @param event\n     * @private\n     */\n    private _pointerMove(event: PointerEvent) {\n        event.preventDefault()\n        if (this.state.dragging) {\n            if(!this.props.followCursor && event.pointerId !== this._pointerId) return;\n            const absoluteX = event.clientX;\n            const absoluteY = event.clientY;\n            let relativeX = absoluteX - this._parentRect.left - this._radius;\n            let relativeY = absoluteY - this._parentRect.top - this._radius;\n            const dist = this._distance(relativeX, relativeY);\n            // @ts-ignore\n            const bounded = shapeBoundsFactory(\n                //@ts-ignore\n                this.props.controlPlaneShape || this.props.baseShape,\n                absoluteX,\n                absoluteY,\n                relativeX,\n                relativeY,\n                dist,\n                this._radius,\n                this._baseSize,\n                this._parentRect);\n            relativeX = bounded.relativeX\n            relativeY = bounded.relativeY\n            const atan2 = Math.atan2(relativeX, relativeY);\n\n            this._updatePos({\n                relativeX,\n                relativeY,\n                distance: this._distanceToPercentile(dist),\n                direction: this._getDirection(atan2),\n                axisX: absoluteX - this._parentRect.left,\n                axisY: absoluteY - this._parentRect.top\n            });\n        }\n    }\n\n\n\n    /**\n     * Handle pointer up and de-register listen events\n     * @private\n     */\n    private _pointerUp(event: PointerEvent) {\n        if(event.pointerId !== this._pointerId) return;\n        const stateUpdate = {\n            dragging: false,\n        } as any;\n        if (!this.props.sticky) {\n            stateUpdate.coordinates = undefined;\n        }\n        this.frameId = window.requestAnimationFrame(() => {\n            if(this._mounted){\n                this.setState(stateUpdate);\n            }\n          });\n          \n        window.removeEventListener(InteractionEvents.PointerUp, event => this._pointerUp(event));\n        window.removeEventListener(InteractionEvents.PointerMove, event => this._pointerMove(event));\n        this._pointerId = null;\n        if (this.props.stop) {\n            this.props.stop({\n                type: \"stop\",\n                // @ts-ignore\n                x: this.props.sticky ? ((this.state.coordinates.relativeX * 2) / this._baseSize) : null,\n                // @ts-ignore\n                y: this.props.sticky ? ((this.state.coordinates.relativeY * 2) / this._baseSize): null,\n                // @ts-ignore\n                direction: this.props.sticky ? this.state.coordinates.direction : null,\n                // @ts-ignore\n                distance: this.props.sticky ? this.state.coordinates.distance : null\n\n            });\n        }\n\n    }\n\n    /**\n     * Get the shape stylings for the base\n     * @private\n     */\n    private getBaseShapeStyle() {\n        const shape = this.props.baseShape || JoystickShape.Circle;\n        return shapeFactory(shape, this._baseSize);\n    }\n    /**\n     * Get the shape stylings for the stick\n     * @private\n     */\n    private getStickShapeStyle() {\n        const shape = this.props.stickShape || JoystickShape.Circle;\n        return shapeFactory(shape, this._baseSize);\n    }\n    /**\n     * Calculate base styles for pad\n     * @private\n     */\n    private _getBaseStyle(): any {\n        const baseColor: string = this.props.baseColor !== undefined ? this.props.baseColor : \"#000033\";\n\n        const baseSizeString = `${this._baseSize}px`;\n        const padStyle = {\n            ...this.getBaseShapeStyle(),\n            height: baseSizeString,\n            width: baseSizeString,\n            background: baseColor,\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n        } as any;\n        if (this.props.baseImage) {\n            padStyle.background = `url(${this.props.baseImage})`;\n            padStyle.backgroundSize = '100%'\n        }\n        return padStyle;\n\n    }\n\n    /**\n     * Calculate  base styles for joystick and translate\n     * @private\n     */\n    private _getStickStyle(): any {\n        const stickColor: string = this.props.stickColor !== undefined ? this.props.stickColor : \"#3D59AB\";\n        const stickSize = this._stickSize ? `${this._stickSize}px` :`${this._baseSize / 1.5}px`;\n\n        let stickStyle = {\n            ...this.getStickShapeStyle(),\n            background: stickColor,\n            cursor: \"move\",\n            height: stickSize,\n            width: stickSize,\n            border: 'none',\n            flexShrink: 0,\n            touchAction: 'none'\n        } as any;\n        if (this.props.stickImage) {\n            stickStyle.background = `url(${this.props.stickImage})`;\n            stickStyle.backgroundSize = '100%'\n        }\n        if(this.props.pos){\n            stickStyle = Object.assign({}, stickStyle, {\n                position: 'absolute',\n                transform: `translate3d(${(this.props.pos.x * this._baseSize)/2 }px, ${-(this.props.pos.y * this._baseSize)/2}px, 0)`\n            });\n        }\n\n        if (this.state.coordinates !== undefined) {\n            stickStyle = Object.assign({}, stickStyle, {\n                position: 'absolute',\n                transform: `translate3d(${this.state.coordinates.relativeX}px, ${this.state.coordinates.relativeY}px, 0)`\n            });\n        }\n        return stickStyle;\n\n    }\n\n    render() {\n        this._baseSize = this.props.size || 100;\n        this._stickSize = this.props.stickSize;\n        this._radius = this._baseSize / 2;\n        const baseStyle = this._getBaseStyle();\n        const stickStyle = this._getStickStyle();\n        //@ts-ignore\n        return (\n            <div data-testid=\"joystick-base\" className={this.props.disabled ? 'joystick-base-disabled' : ''}\n\n                 ref={this._baseRef}\n                 style={baseStyle}>\n                <button ref={this._stickRef}\n                        disabled={this.props.disabled}\n                        onPointerDown={(event: any) => this._pointerDown(event)}\n                        className={this.props.disabled ? 'joystick-disabled' : ''}\n                        style={stickStyle}/>\n            </div>\n        )\n    }\n}\n\nexport {\n    Joystick\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}